<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THCE - Tradução Histórica e Científica das Escrituras</title>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 0;
            padding: 0;
            text-align: center;
            background: #f5f5f5;
            color: #111;
        }
        header {
            padding: 50px 20px 30px 20px;
            background-color: #ffffff;
            border-bottom: 1px solid #ddd;
        }
        header h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            color: #1a1a1a;
        }
        header p {
            font-size: 1.1rem;
            color: #666;
        }
        section {
            margin: 40px 0;
            padding: 20px;
        }
        .edition {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            margin: 25px auto;
            max-width: 550px;
            padding: 30px 25px;
            border: 1px solid #eaeaea;
        }
        .edition h2 {
            font-size: 1.6rem;
            margin-bottom: 5px;
        }
        .edition p {
            margin: 5px 0 25px 0;
            color: #777;
        }
        .buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
        }
        .buttons a {
            text-decoration: none;
            color: #fff;
            background-color: #111;
            padding: 12px 22px;
            border-radius: 8px;
            font-weight: bold;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .buttons a:hover {
            background-color: #333;
            transform: translateY(-2px);
        }
        .btn-outline {
            background-color: transparent !important;
            color: #111 !important;
            border: 1px solid #111;
        }
        .btn-outline:hover {
            background-color: #f0f0f0 !important;
        }
    </style>
</head>
<body>

    <header>
        <h1>Tradução Histórica e Científica das Escrituras (THCE)</h1>
        <p>Nova Tradução Brasileira – Projeto Independente de Tradução Bíblica</p>
    </header>

    <section>
        <div class="edition">
            <h2>Versão Mini Revisada</h2>
            <p>Publicada em 2026</p>
            <div class="buttons">
                <a href="txtthce.html" id="btn-visualizar">Visualizar</a>
                <a href="minirevisada.html" class="btn-outline">Sobre</a>
            </div>
        </div>

        <div class="edition">
            <h2>Versão Mini Plus</h2>
            <p>Em desenvolvimento</p>
            <div class="buttons">
                <a href="miniplus.html" class="btn-outline">Sobre</a>
            </div>
        </div>

        <div class="edition">
            <h2>Edição Completa</h2>
            <p>Em desenvolvimento</p>
            <div class="buttons">
                <a href="thcecompleta.html" class="btn-outline">Sobre</a>
            </div>
        </div>

        <div class="edition">
            <h2>Versão Acadêmica</h2>
            <p>Em desenvolvimento</p>
            <div class="buttons">
                <a href="acadêmica.html" class="btn-outline">Sobre</a>
            </div>
        </div>
    </section>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, doc, updateDoc, increment } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDk42xKzDR3LoZPg1NT5NxeLcgFVWqYVbU",
            authDomain: "site-thce.firebaseapp.com",
            projectId: "site-thce",
            storageBucket: "site-thce.firebasestorage.app",
            messagingSenderId: "948915266536",
            appId: "1:948915266536:web:daf61b80b442c813a2ba5d"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const docRef = doc(db, "estatisticas", "thce-mini");

        const btn = document.getElementById("btn-visualizar");
        btn.addEventListener("click", async (e) => {
            e.preventDefault();
            const linkDestino = btn.href;

            try {
                // O sistema continua registrando o acesso silenciosamente
                await updateDoc(docRef, {
                    views: increment(1)
                });
            } catch (error) {
                console.error("Erro interno ao registrar acesso.");
            } finally {
                window.location.href = linkDestino;
            }
        });
    </script>
</body>
</html>
